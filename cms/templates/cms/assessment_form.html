{% extends 'base.html' %}

{% load crispy_forms_tags %}

{% block content %}

<h3>Qualification Competency Assessment</h3>

{% if form.errors %}
{% for field in form %}
{% for error in field.errors %}
<div class="alert alert-danger">
  <strong>{{ error|escape }}</strong>
</div>
{% endfor %}
{% endfor %}
{% for error in form.non_field_errors %}
<div class="alert alert-danger">
  <strong>{{ error|escape }}</strong>
</div>
{% endfor %}
{% endif %}

<form method="post" enctype="multipart/form-data">
  {% csrf_token %}
  <div class="row">
    <div class="col-6">
      {{ p_form.date_of_birth|as_crispy_field }}
    </div>
    <div class="col-6">
      {{ p_form.country_of_birth|as_crispy_field }}
    </div>
  </div>
  {{ p_form.address|as_crispy_field }}
  <div class="row">
    <div class="col-6">
      {{ p_form.phone|as_crispy_field }}
    </div>
    <div class="col-6">
      {{ user.email }}
    </div>
  </div>

  <h3>2. Language Competence</h3>
  <div class="form-row">
    <div class="form-group col-md-6 mb-0">
      {{ lc_form.dominant_language|as_crispy_field }}
    </div>
    <div class="form-group col-md-6 mb-0">
      {{ lc_form.dominant_language_other|as_crispy_field }}
    </div>
  </div>
  <div class="form-row">
    <div class="form-group col-md-6 mb-0">
      {{ lc_form.language_in_which_speech_therapy_training_was_conducted|as_crispy_field }}
    </div>
    <div class="form-group col-md-6 mb-0">
      {{ lc_form.language_in_which_speech_therapy_training_was_conducted_other|as_crispy_field }}
    </div>
  </div>
  <div class="form-row">
    <div class="form-group col-md-6 mb-0">
      {{ lc_form.language_to_provide_speech_therapy|as_crispy_field }}
    </div>
    <div class="form-group col-md-6 mb-0">
      {{ lc_form.language_to_provide_speech_therapy_other|as_crispy_field }}
    </div>
  </div>
  <h3>3. Professional qualifications</h3>
  {{ formset_pq.management_form }}
  {% for form in formset_pq %}
  <div class="form-row">
    <div class="form-group col-md-3 mb-0">
      {{ form.degree_name_relevant_to_speech_therapy |as_crispy_field }}
    </div>
    <div class="form-group col-md-3 mb-0">
      {{ form.english_translation_of_degree_name |as_crispy_field }}
    </div>
    <div class="form-group col-md-3 mb-0">
      {{ form.university_name |as_crispy_field }}
    </div>
    <div class="form-group col-md-3 mb-0">
      {{ form.english_university_name |as_crispy_field }}
    </div>
  </div>
  <div class="form-row">
    <div class="form-group col-md-3 mb-0">
      {{ form.country_name |as_crispy_field }}
    </div>
    <div class="form-group col-md-3 mb-0">
      {{ form.language_of_instruction |as_crispy_field }}
    </div>
    <div class="form-group col-md-3 mb-0">
      {{ form.graduation_date |as_crispy_field }}
    </div>
    <div class="form-group col-md-3 mb-0">
      {{ form.qualifiation_framework_level |as_crispy_field }}
    </div>
  </div>
  {% endfor %}

  {{ form_doc.as_p  }}
  <button type="submit" class="btn btn-success">Save Application</button>
</form>
{% endblock %}
